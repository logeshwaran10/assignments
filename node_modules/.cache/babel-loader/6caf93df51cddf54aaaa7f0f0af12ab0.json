{"ast":null,"code":"\"use strict\";\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar styled_1 = __importDefault(require(\"@emotion/styled\"));\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar _1 = __importDefault(require(\"./\"));\n\nvar volume_1 = require(\"./controls/volume\");\n\nvar VideoContainer = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    height: 100%;\\n    width: 100%;\\n\"], [\"\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    height: 100%;\\n    width: 100%;\\n\"])));\nvar VideoStyled = styled_1.default(_1.default)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    height: 100%;\\n    display: inline-block;\\n    object-fit: fill;\\n    pointer-events: none;\\n    background: rgb(0, 0, 0, 0);\\n\"], [\"\\n    height: 100%;\\n    display: inline-block;\\n    object-fit: fill;\\n    pointer-events: none;\\n    background: rgb(0, 0, 0, 0);\\n\"])));\nvar Button = styled_1.default.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n    position: absolute;\\n    top: 6px;\\n    right: 6px;\\n    cursor: pointer;\\n    opacity: \", \";\\n    transition: opacity ease-out 800ms;\\n\"], [\"\\n    position: absolute;\\n    top: 6px;\\n    right: 6px;\\n    cursor: pointer;\\n    opacity: \", \";\\n    transition: opacity ease-out 800ms;\\n\"])), function (props) {\n  return props.isHovered ? 1 : 0.8;\n});\nvar speakerClassName = 'giphy-video-overlay-button';\n\nvar VolumeButton = function (_a) {\n  var muted = _a.muted,\n      toggleMute = _a.toggleMute,\n      mutedByBrowser = _a.mutedByBrowser,\n      isHovered = _a.isHovered;\n  return react_1.default.createElement(Button, {\n    className: speakerClassName,\n    onClick: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      toggleMute();\n    },\n    isHovered: isHovered\n  }, muted || mutedByBrowser || !isHovered ? react_1.default.createElement(volume_1.VolumeOffIcon, null) : react_1.default.createElement(volume_1.VolumeOnIcon, null));\n};\n\nvar VideoOverlay = function (_a) {\n  var gif = _a.gif,\n      isHovered = _a.isHovered,\n      hideMuteButton = _a.hideMuteButton,\n      width = _a.width,\n      height = _a.height,\n      className = _a.className,\n      _b = _a.muted,\n      userPrefMuted = _b === void 0 ? false : _b,\n      onUserMuted = _a.onUserMuted;\n\n  var _c = react_1.useState(userPrefMuted),\n      muted = _c[0],\n      setMuted = _c[1];\n\n  var _d = react_1.useState(false),\n      mutedByBrowser = _d[0],\n      setMutedByBrowser = _d[1];\n\n  var toggleMute = function () {\n    if (mutedByBrowser) {\n      setMutedByBrowser(false);\n      setMuted(false);\n    } else {\n      onUserMuted === null || onUserMuted === void 0 ? void 0 : onUserMuted(!muted);\n      setMuted(!muted);\n    }\n  };\n\n  react_1.useEffect(function () {\n    setMuted(userPrefMuted);\n  }, [userPrefMuted, setMuted]);\n  var props = {\n    toggleMute: toggleMute,\n    muted: muted,\n    mutedByBrowser: mutedByBrowser\n  };\n  return react_1.default.createElement(VideoContainer, {\n    className: className\n  }, isHovered && react_1.default.createElement(VideoStyled, {\n    gif: gif,\n    key: gif.id,\n    loop: true,\n    controls: true,\n    hideAttribution: true,\n    hideMute: true,\n    persistentControls: true,\n    muted: muted,\n    width: width,\n    height: height,\n    onMuted: setMutedByBrowser\n  }), !hideMuteButton && react_1.default.createElement(VolumeButton, __assign({}, props, {\n    isHovered: isHovered\n  })));\n};\n\nVideoOverlay.imgClassName = speakerClassName;\nexports.default = VideoOverlay;\nvar templateObject_1, templateObject_2, templateObject_3;","map":{"version":3,"sources":["../../../src/components/video/video-overlay.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar styled_1 = __importDefault(require(\"@emotion/styled\"));\nvar react_1 = __importStar(require(\"react\"));\nvar _1 = __importDefault(require(\"./\"));\nvar volume_1 = require(\"./controls/volume\");\nvar VideoContainer = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    height: 100%;\\n    width: 100%;\\n\"], [\"\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    height: 100%;\\n    width: 100%;\\n\"])));\nvar VideoStyled = styled_1.default(_1.default)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    height: 100%;\\n    display: inline-block;\\n    object-fit: fill;\\n    pointer-events: none;\\n    background: rgb(0, 0, 0, 0);\\n\"], [\"\\n    height: 100%;\\n    display: inline-block;\\n    object-fit: fill;\\n    pointer-events: none;\\n    background: rgb(0, 0, 0, 0);\\n\"])));\nvar Button = styled_1.default.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n    position: absolute;\\n    top: 6px;\\n    right: 6px;\\n    cursor: pointer;\\n    opacity: \", \";\\n    transition: opacity ease-out 800ms;\\n\"], [\"\\n    position: absolute;\\n    top: 6px;\\n    right: 6px;\\n    cursor: pointer;\\n    opacity: \", \";\\n    transition: opacity ease-out 800ms;\\n\"])), function (props) { return (props.isHovered ? 1 : 0.8); });\nvar speakerClassName = 'giphy-video-overlay-button';\nvar VolumeButton = function (_a) {\n    var muted = _a.muted, toggleMute = _a.toggleMute, mutedByBrowser = _a.mutedByBrowser, isHovered = _a.isHovered;\n    return (react_1.default.createElement(Button, { className: speakerClassName, onClick: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            toggleMute();\n        }, isHovered: isHovered }, muted || mutedByBrowser || !isHovered ? react_1.default.createElement(volume_1.VolumeOffIcon, null) : react_1.default.createElement(volume_1.VolumeOnIcon, null)));\n};\nvar VideoOverlay = function (_a) {\n    var gif = _a.gif, isHovered = _a.isHovered, hideMuteButton = _a.hideMuteButton, width = _a.width, height = _a.height, className = _a.className, _b = _a.muted, userPrefMuted = _b === void 0 ? false : _b, onUserMuted = _a.onUserMuted;\n    var _c = react_1.useState(userPrefMuted), muted = _c[0], setMuted = _c[1];\n    var _d = react_1.useState(false), mutedByBrowser = _d[0], setMutedByBrowser = _d[1];\n    var toggleMute = function () {\n        if (mutedByBrowser) {\n            setMutedByBrowser(false);\n            setMuted(false);\n        }\n        else {\n            onUserMuted === null || onUserMuted === void 0 ? void 0 : onUserMuted(!muted);\n            setMuted(!muted);\n        }\n    };\n    react_1.useEffect(function () {\n        setMuted(userPrefMuted);\n    }, [userPrefMuted, setMuted]);\n    var props = { toggleMute: toggleMute, muted: muted, mutedByBrowser: mutedByBrowser };\n    return (react_1.default.createElement(VideoContainer, { className: className },\n        isHovered && (react_1.default.createElement(VideoStyled, { gif: gif, key: gif.id, loop: true, controls: true, hideAttribution: true, hideMute: true, persistentControls: true, muted: muted, width: width, height: height, onMuted: setMutedByBrowser })),\n        !hideMuteButton && react_1.default.createElement(VolumeButton, __assign({}, props, { isHovered: isHovered }))));\n};\nVideoOverlay.imgClassName = speakerClassName;\nexports.default = VideoOverlay;\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceMappingURL=video-overlay.js.map"]},"metadata":{},"sourceType":"script"}